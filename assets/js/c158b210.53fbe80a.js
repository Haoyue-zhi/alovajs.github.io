"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[1710],{6639:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var n=s(5893),i=s(1151);const r={title:"Share Request",sidebar_position:110},a=void 0,o={id:"tutorial/getting-started/share-request",title:"Share Request",description:"We always encounter this situation. When a request is sent but has not been responded to, the same request is initiated again, resulting in waste of requests, or repeated submission of problems, such as the following three scenarios:",source:"@site/docs/tutorial/02-getting-started/11-share-request.md",sourceDirName:"tutorial/02-getting-started",slug:"/tutorial/getting-started/share-request",permalink:"/tutorial/getting-started/share-request",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/docs/tutorial/02-getting-started/11-share-request.md",tags:[],version:"current",sidebarPosition:110,frontMatter:{title:"Share Request",sidebar_position:110},sidebar:"tutorialSidebar",previous:{title:"states change request",permalink:"/tutorial/getting-started/states-change-request"},next:{title:"Parallel Requests",permalink:"/tutorial/getting-started/parallel-request"}},l={},u=[{value:"Globally close sharing requests",id:"globally-close-sharing-requests",level:2},{value:"Close sharing request in single request",id:"close-sharing-request-in-single-request",level:2}];function d(e){const t={admonition:"admonition",code:"code",h2:"h2",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"We always encounter this situation. When a request is sent but has not been responded to, the same request is initiated again, resulting in waste of requests, or repeated submission of problems, such as the following three scenarios:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"A component will obtain initialization data when it is created. When a page renders multiple components at the same time, it will send multiple identical requests at the same time;"}),"\n",(0,n.jsx)(t.li,{children:"The submit button is not disabled, and the user clicks the submit button multiple times;"}),"\n",(0,n.jsx)(t.li,{children:"When the preloading page is entered before the preloading is completed, the same request will be initiated multiple times;"}),"\n",(0,n.jsx)(t.li,{children:"Prevent dumplicate requesting in StrictMode of react;"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"Share Requests are here to solve those problems. It can not only improve application fluency, but also reduce server pressure."}),"\n",(0,n.jsx)(t.mermaid,{value:"flowchart LR\r\n  classDef response fill:#a8bcff\r\n  R1[Request 1] --\x3e S1[Send request] --\x3e W1[Waiting for response]:::response --\x3e RE1[Receive data 1]\r\n  R2[Same request as request 1] --\x3e W1[Waiting for response]:::response --\x3e RE2[Receive data 1]"}),"\n",(0,n.jsx)(t.h2,{id:"globally-close-sharing-requests",children:"Globally close sharing requests"}),"\n",(0,n.jsx)(t.p,{children:"In most cases, you should need shared requests, so it is enabled by default, but if you encounter a special situation and want to disable it globally, you can do this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"const alovaInst = createAlova({\r\n  //...\r\n  // highlight-start\r\n  shareRequest: false\r\n  // highlight-end\r\n});\n"})}),"\n",(0,n.jsx)(t.h2,{id:"close-sharing-request-in-single-request",children:"Close sharing request in single request"}),"\n",(0,n.jsx)(t.p,{children:"If you wish to turn off shared requests on specific requests, you can do this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"alovaInst.Get('/todo', {\r\n  //...\r\n  // highlight-start\r\n  // Only close share requests for this request\r\n  shareRequest: false\r\n  // highlight-end\r\n});\n"})}),"\n",(0,n.jsx)(t.admonition,{title:"Notes",type:"warning",children:(0,n.jsx)(t.p,{children:"It should be noted again that alova is uniquely identified through the combination of the method instance\u2019s request method, request url, request header parameters, url parameters, and request body. That is to say, it is the same request, rather than comparing the reference address of the method instance."})})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>a});var n=s(7294);const i={},r=n.createContext(i);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);