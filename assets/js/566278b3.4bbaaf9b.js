"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[1510],{95522:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var a=s(85893),n=s(11151);const o={title:"Custom Storage Adapter"},r=void 0,i={id:"tutorial/custom/custom-storage-adapter",title:"Custom Storage Adapter",description:"Alova involves multiple functions that require data persistence, such as persistent cache, silent submission, and offline submission. By default, alova will use localStorage to store persistent data, but considering the non-browser environment, it also supports customization.",source:"@site/versioned_docs/version-v2/tutorial/10-custom/03-custom-storage-adapter.md",sourceDirName:"tutorial/10-custom",slug:"/tutorial/custom/custom-storage-adapter",permalink:"/v2/tutorial/custom/custom-storage-adapter",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/versioned_docs/version-v2/tutorial/10-custom/03-custom-storage-adapter.md",tags:[],version:"v2",sidebarPosition:3,frontMatter:{title:"Custom Storage Adapter"},sidebar:"tutorial",previous:{title:"Custom Request Adapter",permalink:"/v2/tutorial/custom/custom-http-adapter"},next:{title:"Custom States Hook",permalink:"/v2/tutorial/custom/custom-stateshook"}},c={},l=[{value:"SessionStorage storage adapter example",id:"sessionstorage-storage-adapter-example",level:2}];function u(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,n.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Alova involves multiple functions that require data persistence, such as persistent cache, silent submission, and offline submission. ",(0,a.jsxs)(t.strong,{children:["By default, alova will use ",(0,a.jsx)(t.code,{children:"localStorage"})," to store persistent data"]}),", but considering the non-browser environment, it also supports customization."]}),"\n",(0,a.jsx)(t.p,{children:"Customizing the storage adapter is also very simple, you only need to specify the functions for saving data, getting data, and removing data, roughly like this."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"const customStorageAdapter = {\n  set(key, value) {\n    // Save the data, value is structured data, which can be converted to a string by calling JSON.stringify\n  },\n  get(key) {\n    // get data, return structured data, which can be converted by calling JSON.parse\n  },\n  remove(key) {\n    // remove data\n  }\n};\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Then pass in this adapter when creating an ",(0,a.jsx)(t.code,{children:"alova"})," instance."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"const alovaInstance = createAlova({\n  //...\n  storageAdapter: customStorageAdapter\n});\n"})}),"\n",(0,a.jsx)(t.h2,{id:"sessionstorage-storage-adapter-example",children:"SessionStorage storage adapter example"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"const sessionStorageAdapter = {\n  set(key, value) {\n    sessionStorage.setItem(key, JSON.stringify(value));\n  },\n  get(key) {\n    const data = sessionStorage.getItem(key);\n    return data ? JSON.parse(data) : data;\n  },\n  remove(key) {\n    sessionStorage.removeItem(key);\n  }\n};\n"})})]})}function d(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},11151:(e,t,s)=>{s.d(t,{Z:()=>i,a:()=>r});var a=s(67294);const n={},o=a.createContext(n);function r(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);