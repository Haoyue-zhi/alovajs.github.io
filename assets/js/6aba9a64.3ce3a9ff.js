"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[6449],{77032:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>h});var t=s(85893),r=s(11151);const l={title:"method instance"},d=void 0,i={id:"api/method",title:"method instance",description:"A method instance corresponds to a request information description. It has a request URL, request header, request parameters, and request behavior parameters such as response data processing and cache data processing. Through the method instance, you can experience a unified usage experience in any JS environment, and it can run normally with very few changes. In addition, the method instance puts the request parameters and request behavior parameters together, which is more convenient for API management, rather than being scattered in multiple code files.",source:"@site/docs/api/02-method.md",sourceDirName:"api",slug:"/api/method",permalink:"/api/method",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/docs/api/02-method.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"method instance"},sidebar:"api",previous:{title:"Alova Instance",permalink:"/api/alova"},next:{title:"Core useHooks",permalink:"/api/core-hooks"}},o={},h=[{value:"PromiseLike feature",id:"promiselike-feature",level:2},{value:"new Method()",id:"new-method",level:2},{value:"method.headers",id:"methodheaders",level:2},{value:"method.baseURL",id:"methodbaseurl",level:2},{value:"method.url",id:"methodurl",level:2},{value:"method.type",id:"methodtype",level:2},{value:"method.data",id:"methoddata",level:2},{value:"method.context",id:"methodcontext",level:2},{value:"method.hitSource",id:"methodhitsource",level:2},{value:"method.meta",id:"methodmeta",level:2},{value:"method.config",id:"methodconfig",level:2},{value:"method.fromCache",id:"methodfromcache",level:2},{value:"method.promise",id:"methodpromise",level:2},{value:"method.key",id:"methodkey",level:2},{value:"method.dhs",id:"methoddhs",level:2},{value:"method.uhs",id:"methoduhs",level:2},{value:"method.send()",id:"methodsend",level:2},{value:"method.abort()",id:"methodabort",level:2},{value:"method.then()",id:"methodthen",level:2},{value:"method.catch()",id:"methodcatch",level:2},{value:"method.finally()",id:"methodfinally",level:2},{value:"method.onDownload()",id:"methodondownload",level:2},{value:"method.onUpload()",id:"methodonupload",level:2},{value:"method.generateKey()",id:"methodgeneratekey",level:2},{value:"method.setName()",id:"methodsetname",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"A method instance corresponds to a request information description. It has a request URL, request header, request parameters, and request behavior parameters such as response data processing and cache data processing. Through the method instance, you can experience a unified usage experience in any JS environment, and it can run normally with very few changes. In addition, the method instance puts the request parameters and request behavior parameters together, which is more convenient for API management, rather than being scattered in multiple code files."}),"\n",(0,t.jsx)(n.h2,{id:"promiselike-feature",children:"PromiseLike feature"}),"\n",(0,t.jsxs)(n.p,{children:["The method instance is a PromiseLike instance, which has ",(0,t.jsx)(n.code,{children:"then/catch/finally"})," functions, so you can use it as follows:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Call method's then function\nmethod.then(res => {\n  console.log(res);\n});\n\n// Catch exceptions\nmethod.catch(e => {\n  console.log(e);\n});\n\n// Request completion call\nmethod.finally(() => {\n  console.log('request completed');\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In addition, you can also send requests through ",(0,t.jsx)(n.code,{children:"await method"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"new-method",children:"new Method()"}),"\n",(0,t.jsx)(n.p,{children:"Customize the creation of method instances."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface MethodConstructor {\n  new (\n    type: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'OPTIONS' | 'PATCH',\n    context: Alova,\n    url: string,\n    config?: AlovaMethodCreateConfig,\n    data?: Arg | string | FormData | Blob | ArrayBuffer | URLSearchParams | ReadableStream\n  ): Method;\n  readonly prototype: Method;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"type"}),": request type"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"context"}),": alova instance"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"url"}),": request url"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"config"}),": configuration parameters, the type is consistent with the config parameter type of ",(0,t.jsx)(n.a,{href:"/api/alova#alovaget",children:"alova.Get"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"data"}),": request body data"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Method } from 'alova';\nimport { alovaInstance } from './api';\n\nconst method = new Method('GET', alovaInstance, '/api/users', {\n  params: {\n    id: 1\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodheaders",children:"method.headers"}),"\n",(0,t.jsx)(n.p,{children:"Request headers."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  headers?: any;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodbaseurl",children:"method.baseURL"}),"\n",(0,t.jsxs)(n.p,{children:["The base path of the request, inherited from ",(0,t.jsx)(n.a,{href:"/api/alova",children:"alova instance"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  baseURL: string;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodurl",children:"method.url"}),"\n",(0,t.jsx)(n.p,{children:"The url to create a method instance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  url: string;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodtype",children:"method.type"}),"\n",(0,t.jsx)(n.p,{children:"Request type."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type"}),":"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  type: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'OPTIONS' | 'PATCH';\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methoddata",children:"method.data"}),"\n",(0,t.jsx)(n.p,{children:"Request body."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  data?: any;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodcontext",children:"method.context"}),"\n",(0,t.jsx)(n.p,{children:"Create an Alova instance for the current method."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  context: Alova;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodhitsource",children:"method.hitSource"}),"\n",(0,t.jsxs)(n.p,{children:["Hit the source method instance. When the source method instance request succeeds, the cache of the current method instance will be invalidated. As an automatic invalidation function, you only need to set the hit source, without manually calling ",(0,t.jsx)(n.code,{children:"invalidateCache"})," to invalidate the cache. In addition, this function is more concise and effective than the ",(0,t.jsx)(n.code,{children:"invalidateCache"})," method in complex invalidation relationships. The field value can be set to a method instance, the name of other method instances, a name regular match, or an array of them."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  hitSource?: Method | string | RegExp | (Method | string | RegExp)[];\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodmeta",children:"method.meta"}),"\n",(0,t.jsxs)(n.p,{children:["Metadata of method, used to record request feature information, ",(0,t.jsx)(n.a,{href:"/tutorial/getting-started/basic/method-metadata",children:"Details"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  meta?: any;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodconfig",children:"method.config"}),"\n",(0,t.jsxs)(n.p,{children:["Configuration information when creating a method through methods such as ",(0,t.jsx)(n.code,{children:"alova.Get/alova.Post"}),", ",(0,t.jsx)(n.a,{href:"/api/alova#alovaget",children:"Details"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  config: AlovaMethodCreateConfig;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodfromcache",children:"method.fromCache"}),"\n",(0,t.jsx)(n.p,{children:"Whether the data of the current request comes from the cache."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  fromCache: boolean;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodpromise",children:"method.promise"}),"\n",(0,t.jsx)(n.p,{children:"The Promise instance of the current request, which has a value in the request."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  promise?: Promise<Responded>;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"createAlova({\n  beforeRequest(method) {\n    method!.promise.then(data => {\n      // ...\n    });\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodkey",children:"method.key"}),"\n",(0,t.jsx)(n.p,{children:"The key of the current method. You can customize the cache key of the current method by modifying it."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  key: string;\n}\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/tutorial/advanced/in-depth/custom-method-key",children:"View the key of custom method"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"methoddhs",children:"method.dhs"}),"\n",(0,t.jsx)(n.p,{children:"The callback function array of the download progress event of the current method."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  dhs: ProgressHandler[];\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methoduhs",children:"method.uhs"}),"\n",(0,t.jsx)(n.p,{children:"The callback function array of the upload progress event of the current method."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  uhs: ProgressHandler[];\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodsend",children:"method.send()"}),"\n",(0,t.jsx)(n.p,{children:"Use this method instance to send a request directly. You can omit calling this method when sending a request."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  send(forceRequest?: boolean): Promise<Response>;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"forceRequest"}),": Whether to force the request, default is false"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Promise instance with response data."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/users');\nconst response = await method.send();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodabort",children:"method.abort()"}),"\n",(0,t.jsx)(n.p,{children:"Abort the current request."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  abort(): void;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/users');\nmethod.abort();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodthen",children:"method.then()"}),"\n",(0,t.jsxs)(n.p,{children:["The method instance is a PromiseLike instance. You can directly call this method or ",(0,t.jsx)(n.code,{children:"await method"})," to send a request and get the response data."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  then(\n    onFulfilled?: (value: Response) => any,\n    onRejected?: (reason: any) => any\n  ): Promise<Response>;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"onFulfilled"}),": callback function when the request is successful"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"onRejected"}),": callback function when the request fails"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Promise instance with response data."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/users');\nconst response = await method;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodcatch",children:"method.catch()"}),"\n",(0,t.jsx)(n.p,{children:"The method instance is a PromiseLike instance. You can directly call this method to send a request and catch errors."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null\n  ): Promise<Response | TResult>;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"onrejected"}),": callback function when request error occurs"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Promise instance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/users');\nconst response = await method.catch(error => {\n  console.error('Request error');\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodfinally",children:"method.finally()"}),"\n",(0,t.jsx)(n.p,{children:"The method instance is a PromiseLike instance. You can directly call this method to send a request and handle the response completion."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  finally(onfinally?: (() => void) | undefined | null): Promise<Response>;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Promise instance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/users');\nconst response = await method.finally(() => {\n  console.log('Request completed');\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodondownload",children:"method.onDownload()"}),"\n",(0,t.jsxs)(n.p,{children:["Binding the download event, you can get the download progress information.- ",(0,t.jsx)(n.strong,{children:"Type"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  onDownload(handler: ProgressHandler): () => void;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"handler"})," download event callback function"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Unbinding function"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/download_file');\nconst offEvent = method.onDownload(event => {\n  console.log('File size:', event.total);\n  console.log('Downloaded:', event.loaded);\n});\n\noffEvent();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodonupload",children:"method.onUpload()"}),"\n",(0,t.jsx)(n.p,{children:"Bind the upload event to get the upload progress information."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  onUpload(handler: ProgressHandler): () => void;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"handler"})," upload event callback function"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Unbinding function"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/upload_file', formData);\nconst offEvent = method.onUpload(event => {\n  console.log('File size:', event.total);\n  console.log('Uploaded:', event.loaded);\n});\n\noffEvent();\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodgeneratekey",children:"method.generateKey()"}),"\n",(0,t.jsxs)(n.p,{children:["Generate the key of the current method. It is called when creating a method instance. You can customize the key generation by overriding the ",(0,t.jsx)(n.code,{children:"Method.prototype.generateKey"})," method."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  generateKey(): string;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"None"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The key value of the current method instance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"Method.prototype.generateKey = function () {\n  // Customize key generation\n  return customKey;\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methodsetname",children:"method.setName()"}),"\n",(0,t.jsx)(n.p,{children:"Set the name of the method instance."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Method {\n  setName(name: string | number): void;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Parameter"})}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"name"}),": name of the method instance"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Return"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"None"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const method = alova.Get('/api/users', {\n  name: 'user'\n});\nmethod.setName('newUser');\n"})})]})}function c(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>d});var t=s(67294);const r={},l=t.createContext(r);function d(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);