"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[4104],{71314:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>d,toc:()=>u});var t=o(85893),a=o(11151),s=o(74866),l=o(85162);const r={title:"vue2/3 options"},i=void 0,d={id:"tutorial/framework/vue-options",title:"vue2/3 options",description:"\u901a\u5e38\uff0cuse hook \u53ea\u80fd\u5728 vue \u7684 setup \u4e2d\u4f7f\u7528\uff0c\u4f46\u901a\u8fc7@alova/vue-options\u63d0\u4f9b\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728 vue \u7684 options \u4e2d\u4f7f\u7528 alova \u7684 use hook\uff0c\u5b8c\u7f8e\u517c\u5bb9 alova \u7684\u51e0\u4e4e\u6240\u6709\u529f\u80fd\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-v2/tutorial/09-framework/01-vue-options.md",sourceDirName:"tutorial/09-framework",slug:"/tutorial/framework/vue-options",permalink:"/zh-CN/v2/tutorial/framework/vue-options",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/versioned_docs/version-v2/tutorial/09-framework/01-vue-options.md",tags:[],version:"v2",sidebarPosition:1,frontMatter:{title:"vue2/3 options"},sidebar:"tutorial",previous:{title:"Framework",permalink:"/zh-CN/v2/category/framework"},next:{title:"solid",permalink:"/zh-CN/v2/tutorial/framework/solid"}},c={},u=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u7528\u6cd5",id:"\u7528\u6cd5",level:2},{value:"\u6620\u5c04 hook \u72b6\u6001\u548c\u51fd\u6570\u5230 vue \u5b9e\u4f8b\u4e0a",id:"\u6620\u5c04-hook-\u72b6\u6001\u548c\u51fd\u6570\u5230-vue-\u5b9e\u4f8b\u4e0a",level:3},{value:"\u8ba1\u7b97\u5c5e\u6027",id:"\u8ba1\u7b97\u5c5e\u6027",level:3},{value:"\u76d1\u542c hook \u72b6\u6001\u53d8\u5316",id:"\u76d1\u542c-hook-\u72b6\u6001\u53d8\u5316",level:3},{value:"\u8bbe\u7f6e\u5355\u4e2a\u76d1\u542c\u51fd\u6570",id:"\u8bbe\u7f6e\u5355\u4e2a\u76d1\u542c\u51fd\u6570",level:4},{value:"\u6279\u91cf\u8bbe\u7f6e\u76d1\u542c\u51fd\u6570",id:"\u6279\u91cf\u8bbe\u7f6e\u76d1\u542c\u51fd\u6570",level:4},{value:"\u51fd\u6570\u8bf4\u660e",id:"\u51fd\u6570\u8bf4\u660e",level:2},{value:"mapAlovaHook",id:"mapalovahook",level:3},{value:"mapWatcher",id:"mapwatcher",level:3},{value:"\u7c7b\u578b\u652f\u6301",id:"\u7c7b\u578b\u652f\u6301",level:2},{value:"\u81ea\u52a8\u63a8\u65ad",id:"\u81ea\u52a8\u63a8\u65ad",level:3},{value:"\u4e3a\u54cd\u5e94\u6570\u636e\u6dfb\u52a0\u7c7b\u578b",id:"\u4e3a\u54cd\u5e94\u6570\u636e\u6dfb\u52a0\u7c7b\u578b",level:3},{value:"\u9650\u5236",id:"\u9650\u5236",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\u901a\u5e38\uff0cuse hook \u53ea\u80fd\u5728 vue \u7684 setup \u4e2d\u4f7f\u7528\uff0c\u4f46\u901a\u8fc7",(0,t.jsx)(n.code,{children:"@alova/vue-options"}),"\u63d0\u4f9b\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728 vue \u7684 options \u4e2d\u4f7f\u7528 alova \u7684 use hook\uff0c\u5b8c\u7f8e\u517c\u5bb9 alova \u7684\u51e0\u4e4e\u6240\u6709\u529f\u80fd\u3002"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"vue2 \u548c vue3 \u4e2d\u5747\u53ef\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@alova/vue-options",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/npm/v/@alova/vue-options",alt:"npm"})}),"\n",(0,t.jsx)(n.a,{href:"https://github.com/alovajs/vue-options/actions/workflows/release.yml",children:(0,t.jsx)(n.img,{src:"https://github.com/alovajs/vue-options/actions/workflows/release.yml/badge.svg?branch=main",alt:"build"})}),"\n",(0,t.jsx)(n.a,{href:"https://coveralls.io/github/alovajs/vue-options?branch=main",children:(0,t.jsx)(n.img,{src:"https://coveralls.io/repos/github/alovajs/vue-options/badge.svg?branch=main",alt:"coverage status"})}),"\n",(0,t.jsx)(n.img,{src:"https://badgen.net/badge/icon/typescript?icon=typescript&label",alt:"typescript"}),"\n",(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:"license"})]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(l.Z,{value:"1",label:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install alova @alova/vue-options --save\n"})})}),(0,t.jsx)(l.Z,{value:"2",label:"yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add alova @alova/vue-options\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{title:"alova \u7248\u672c\u8981\u6c42",type:"info",children:(0,t.jsx)(n.p,{children:"alova \u7248\u672c >= 2.13.2"})}),"\n",(0,t.jsx)(n.h2,{id:"\u7528\u6cd5",children:"\u7528\u6cd5"}),"\n",(0,t.jsx)(n.h3,{id:"\u6620\u5c04-hook-\u72b6\u6001\u548c\u51fd\u6570\u5230-vue-\u5b9e\u4f8b\u4e0a",children:"\u6620\u5c04 hook \u72b6\u6001\u548c\u51fd\u6570\u5230 vue \u5b9e\u4f8b\u4e0a"}),"\n",(0,t.jsxs)(n.p,{children:["\u5148\u4f7f\u7528",(0,t.jsx)(n.code,{children:"vueOptionHook"}),"\u521b\u5efa alova \u5b9e\u4f8b\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { createAlova, Method } from 'alova';\nimport GlobalFetch from 'alova/GlobalFetch';\nimport { VueOptionsHook } from '@alova/vue-options';\n\n// api.js\nconst alovaInst = createAlova({\n  baseURL: 'http://example.com',\n  statesHook: VueOptionsHook,\n  requestAdapter: GlobalFetch(),\n  responded: response => response.json()\n});\n\n/** @type {() => Method<unknown, unknown, { content: string, time: string }[]>} */\nexport const getData = () => alovaInst.Get('/todolist');\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u518d\u4f7f\u7528",(0,t.jsx)(n.code,{children:"mapAlovaHook"}),"\u5c06 use hook \u7684\u8fd4\u56de\u503c\u96c6\u5408\u6620\u5c04\u5230\u7ec4\u4ef6\u5b9e\u4f8b\u4e0a\uff0c\u4ee5\u4e0b\u662f\u8bbf\u95ee\u54cd\u5e94\u5f0f\u72b6\u6001\u548c\u64cd\u4f5c\u51fd\u6570\u7684\u65b9\u6cd5\uff1a"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\u53ef\u4ee5\u901a\u8fc7\u96c6\u5408\u7684 key \u6765\u8bbf\u95ee",(0,t.jsx)(n.code,{children:"loading/data/error"}),"\u7b49\u54cd\u5e94\u5f0f\u72b6\u6001\uff0c\u4f8b\u5982",(0,t.jsx)(n.code,{children:"this.key.loading"}),"\u3001",(0,t.jsx)(n.code,{children:"this.key.data"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53ef\u4ee5\u901a\u8fc7\u96c6\u5408\u7684 key \u52a0\u51fd\u6570\u540d\u79f0\u6765\u8bbf\u95ee\u64cd\u4f5c\u51fd\u6570\uff0c\u5e76\u4f7f\u7528",(0,t.jsx)(n.code,{children:"$"}),"\u62fc\u63a5\uff0c\u4f8b\u5982",(0,t.jsx)(n.code,{children:"this.key$send"}),"\u3001",(0,t.jsx)(n.code,{children:"this.key$onSuccess"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u4f8b\u5b50\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<template>\n  <div>\n    <span role=\"loading\">{{ todoRequest.loading ? 'loading' : 'loaded' }}</span>\n    <span role=\"error\">{{ todoRequest.error ? todoRequest.error.message : '' }}</span>\n    <div role=\"data\">{{ JSON.stringify(todoRequest.data) }}</div>\n    <button\n      @click=\"todoRequest$send\"\n      role=\"btnSend\">\n      send\n    </button>\n  </div>\n</template>\n\n<script>\n  import { useRequest } from 'alova';\n  import { mapAlovaHook } from '@alova/vue-options';\n  import { getData } from './api';\n\n  export default {\n    // mapAlovaHook\u5c06\u8fd4\u56demixins\u6570\u7ec4\uff0cuse hook\u7684\u7528\u6cd5\u4e0e\u4e4b\u524d\u4e00\u81f4\n    mixins: mapAlovaHook(function (vm) {\n      // \u53ef\u4ee5\u901a\u8fc7this\u6216vm\u6765\u8bbf\u95ee\u7ec4\u4ef6\u5b9e\u4f8b\n      // \u4f7f\u7528this\u65f6\uff0c\u6b64\u56de\u8c03\u51fd\u6570\u4e0d\u80fd\u4e3a\u7bad\u5934\u51fd\u6570\n      console.log(this, vm);\n      return {\n        todoRequest: useRequest(getData)\n      };\n    }),\n    created() {\n      this.todoRequest.loading;\n      this.todoRequest$send();\n      this.todoRequest$onSuccess(event => {\n        event.data.match;\n        event.sendArgs.copyWithin;\n      });\n      this.todoRequest$onSuccess(event => {\n        console.log('success', event);\n      });\n      this.todoRequest$onError(event => {\n        console.log('error', event);\n      });\n    },\n    mounted() {\n      this.todoRequest$onComplete(event => {\n        console.log('complete', event);\n      });\n    }\n  };\n<\/script>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u8ba1\u7b97\u5c5e\u6027",children:"\u8ba1\u7b97\u5c5e\u6027"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u4f60\u9700\u8981\u5b9a\u4e49\u4f9d\u8d56 hook \u76f8\u5173\u7684\u8bf7\u6c42\u72b6\u6001\u7684\u8ba1\u7b97\u5c5e\u6027\uff0c\u53ea\u9700\u8981\u548c\u5e73\u65f6\u4e00\u6837\u7f16\u5199\u5373\u53ef\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export default {\n  computed: {\n    todoRequestLoading() {\n      return this.todoRequest.loading;\n    },\n    todoRequestData() {\n      return this.todoRequest.data;\n    }\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u76d1\u542c-hook-\u72b6\u6001\u53d8\u5316",children:"\u76d1\u542c hook \u72b6\u6001\u53d8\u5316"}),"\n",(0,t.jsxs)(n.p,{children:["\u7531\u4e8e vue2 \u7684\u9650\u5236\uff0c\u6240\u6709 hook \u72b6\u6001\u90fd\u662f\u6302\u8f7d\u5728\u4e00\u4e2a\u540d\u53eb",(0,t.jsx)(n.code,{children:"alovaHook$"}),"\u7684\u5bf9\u8c61\u4e0a\uff0c\u56e0\u6b64\u5728\u76d1\u542c\u65f6\u9700\u8981\u6dfb\u52a0",(0,t.jsx)(n.code,{children:"alovaHook$"}),"\u524d\u7f00\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export default {\n  watch: {\n    // \u274c\u65e0\u6cd5\u76d1\u542c\n    'todoRequest.loading'(newVal, oldVal) {\n      // ...\n    },\n    // \u2705\u76d1\u542c\u6b63\u5e38\n    'alovaHook$.todoRequest.loading'(newVal, oldVal) {\n      // ...\n    }\n  }\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4f46\u8fd9\u6837\u7a0d\u663e\u9ebb\u70e6\uff0c\u56e0\u6b64\u63d0\u4f9b\u4e86\u4e00\u4e2a",(0,t.jsx)(n.code,{children:"mapWatcher"}),"\u8f85\u52a9\u51fd\u6570\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u81ea\u52a8\u6dfb\u52a0\u524d\u7f00\u3001\u5d4c\u5957\u76d1\u542c\uff0c\u8fd8\u53ef\u4ee5\u6279\u91cf\u76d1\u542c\u3002"]}),"\n",(0,t.jsx)(n.h4,{id:"\u8bbe\u7f6e\u5355\u4e2a\u76d1\u542c\u51fd\u6570",children:"\u8bbe\u7f6e\u5355\u4e2a\u76d1\u542c\u51fd\u6570"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export default {\n  watch: mapWatcher({\n    // \u7528\u6cd51\n    'todoRequest.loading'(newVal, oldVal) {},\n\n    // \u7528\u6cd52\n    todoRequest: {\n      loading(newVal, oldVal) {},\n      data(newVal, oldVal) {}\n    }\n  })\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u540c\u65f6\u4e5f\u652f\u6301\u76d1\u542c\u5668\u5bf9\u8c61\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export default {\n  watch: mapWatcher({\n    todoRequest: {\n      data: {\n        handler(newVal, oldVal) {},\n        deep: true\n      }\n    }\n  })\n};\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u6279\u91cf\u8bbe\u7f6e\u76d1\u542c\u51fd\u6570",children:"\u6279\u91cf\u8bbe\u7f6e\u76d1\u542c\u51fd\u6570"}),"\n",(0,t.jsxs)(n.p,{children:["\u591a\u4e2a\u76d1\u542c key \u4f7f\u7528",(0,t.jsx)(n.code,{children:","}),"\u5206\u9694\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export default {\n  watch: mapWatcher({\n    // \u7528\u6cd51\n    'todoRequest1.data, todoRequest2.data'(newVal, oldVal) {},\n\n    // \u7528\u6cd52\n    'todoRequest1, todoRequest2': {\n      loading(newVal, oldVal) {},\n      data(newVal, oldVal) {}\n    },\n\n    // \u7528\u6cd53\n    todoRequest1: {\n      'loading, data'(newVal, oldVal) {}\n    },\n\n    // \u7528\u6cd54\n    'todoRequest1, todoRequest2': {\n      'loading, data'(newVal, oldVal) {}\n    }\n  })\n};\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u6279\u91cf\u76d1\u542c\u4e5f\u540c\u6837\u652f\u6301\u76d1\u542c\u5668\u5bf9\u8c61"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u51fd\u6570\u8bf4\u660e",children:"\u51fd\u6570\u8bf4\u660e"}),"\n",(0,t.jsx)(n.h3,{id:"mapalovahook",children:"mapAlovaHook"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"mapAlovaHook"}),"\u662f\u7528\u4e8e\u5c06 alova \u7684 use hook \u8fd4\u56de\u7684\u72b6\u6001\u548c\u51fd\u6570\u96c6\u5408\uff0c\u901a\u8fc7 mixins \u6620\u5c04\u5230 vue \u7ec4\u4ef6\u5b9e\u4f8b\u4e0a\u3002\u5b83\u63a5\u6536\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u5e76\u8fd4\u56de use hook \u7684\u8fd4\u56de\u503c\u96c6\u5408\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u56de\u8c03\u51fd\u6570\u5c06\u4f1a\u5728",(0,t.jsx)(n.code,{children:"created"}),"\u9636\u6bb5\u6267\u884c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8bbf\u95ee vue \u7ec4\u4ef6\u5b9e\u4f8b\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 1. \u901a\u8fc7 this \u8bbf\u95ee\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u6ce8\u610f\u56de\u8c03\u51fd\u6570\u4e0d\u80fd\u4e3a\u7bad\u5934\u51fd\u6570\nmapAlovaHook(function () {\n  console.log(this);\n  return {\n    todoRequest: useRequest(getData)\n  };\n});\n\n// =======================\n// 2. \u901a\u8fc7\u51fd\u6570\u53c2\u6570\u8bbf\u95ee\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u6b64\u65f6\u53ef\u4ee5\u7528\u7bad\u5934\u51fd\u6570\nmapAlovaHook(vm => {\n  console.log(vm);\n  return {\n    todoRequest: useRequest(getData)\n  };\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"mapwatcher",children:"mapWatcher"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"mapWatcher"}),"\u662f\u7528\u4e8e\u5feb\u901f\u5b9a\u4e49 hook \u72b6\u6001\u53d8\u5316\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u5b83\u63a5\u6536\u4e00\u4e2a\u5bf9\u8c61\uff0c\u952e\u4e3a hook \u72b6\u6001\u7684 key \u6216\u5d4c\u5957\u503c\u7684\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u503c\u4e3a\u76d1\u542c\u51fd\u6570\u6216\u76d1\u542c\u5668\u5bf9\u8c61\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 1. \u76d1\u542c\u5355\u4e2a\u72b6\u6001\nmapWatcher({\n  'todoRequest.loading'(newVal, oldVal) {\n    //...\n  },\n  todoRequest: {\n    data(newVal, oldVal) {\n      //...\n    }\n  },\n  todoRequest: {\n    'loading, data'(newVal, oldVal) {\n      //...\n    }\n  }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"mapWatcher"}),"\u9664\u4e86\u652f\u6301\u5bf9 alova useHook \u7684\u76d1\u542c\u8f85\u52a9\u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6279\u91cf\u8bbe\u7f6e\u666e\u901a\u72b6\u6001\u503c\u7684\u76d1\u542c\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export default {\n  data() {\n    state1: '',\n    state2: 0\n  },\n\n  // \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165false\u5373\u53ef\u76d1\u542c\u666e\u901a\u72b6\u6001\n  watch: mapWatcher({\n   'state1, state2'(newVal, oldVal) {\n      //...\n    }\n  }, false)\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u7c7b\u578b\u652f\u6301",children:"\u7c7b\u578b\u652f\u6301"}),"\n",(0,t.jsx)(n.h3,{id:"\u81ea\u52a8\u63a8\u65ad",children:"\u81ea\u52a8\u63a8\u65ad"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"@alova/vue-options"}),"\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684 ts \u7c7b\u578b\u652f\u6301\uff0c\u65e0\u8bba\u662f\u5426\u4f7f\u7528 typescript\uff0c\u6620\u5c04\u7684\u503c\u7c7b\u578b\u90fd\u4f1a\u88ab\u81ea\u52a8\u63a8\u65ad\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.todoRequest.loading; // boolean\nthis.todoRequest.error; // Error | undefined\nthis.todoRequest.data; // any\nthis.todoRequest$send; // (...args: any[]) => Promise<any>\nthis.todoRequest$onSuccess; // (handler: SuccessHandler) => void\nthis.todoRequest$onError; // (handler: ErrorHandler) => void\nthis.todoRequest$onComplete; // (handler: CompleteHandler) => void\n// ...\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4e3a\u54cd\u5e94\u6570\u636e\u6dfb\u52a0\u7c7b\u578b",children:"\u4e3a\u54cd\u5e94\u6570\u636e\u6dfb\u52a0\u7c7b\u578b"}),"\n",(0,t.jsxs)(n.p,{children:["\u9664\u4e86",(0,t.jsx)(n.code,{children:"this.todoRequest.data"}),"\u5916\uff0c\u5176\u4ed6\u503c\u90fd\u6709\u4e86\u6b63\u786e\u7684\u7c7b\u578b\uff0c\u90a3\u4e48\u5982\u4f55\u7ed9",(0,t.jsx)(n.code,{children:"data"}),"\u4e5f\u8bbe\u7f6e\u7c7b\u578b\u5462\uff1f\u5176\u5b9e\u4e0e alova \u5728\u5176\u4ed6\u73af\u5883\u4e2d\u4f7f\u7528\u662f\u76f8\u540c\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"javascript"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 javascript \u4e2d\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u6ce8\u91ca\u6dfb\u52a0\u7c7b\u578b\uff0cMethod \u7684\u524d\u4e24\u4e2a\u6cdb\u578b\u53c2\u6570\u4e3a",(0,t.jsx)(n.code,{children:"unknown"}),"\uff0c\u7b2c\u4e09\u4e2a\u6cdb\u578b\u53c2\u6570\u5c31\u662f\u54cd\u5e94\u6570\u636e\u7684\u7c7b\u578b"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { Method } from 'alova';\n\n/** @type {() => Method<unknown, unknown, { content: string, time: string }[]>} */\nexport const getData = () => alovaInst.Get('/todolist');\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"typescript"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 typescript \u4e2d\u6dfb\u52a0\u54cd\u5e94\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u9605\u8bfb ",(0,t.jsx)(n.a,{href:"/v2/tutorial/combine-framework/typescript",children:"alova \u6587\u6863 typescript \u7ae0\u8282"})]}),"\n",(0,t.jsx)(n.h2,{id:"\u9650\u5236",children:"\u9650\u5236"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\u6682\u4e0d\u652f\u6301",(0,t.jsx)(n.a,{href:"/v2/tutorial/advanced/manage-extra-states",children:"\u7ba1\u7406\u989d\u5916\u7684\u72b6\u6001"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u76ee\u524d\u53ea\u652f\u6301 alova \u7684",(0,t.jsx)(n.code,{children:"useRequest/useWatcher/useFetcher"}),"\u4e09\u4e2a\u6838\u5fc3 useHook\uff0c\u4ee5\u53ca\u4f60\u5728\u81ea\u5df1\u9879\u76ee\u4e2d\u57fa\u4e8e\u6838\u5fc3 useHook \u7684\u5c01\u88c5\uff0c\u6682\u4e0d\u652f\u6301",(0,t.jsx)(n.a,{href:"https://github.com/alovajs/scene",children:"@alova/scene"}),"\u5185\u7684\u6269\u5c55 useHook\u3002"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},85162:(e,n,o)=>{o.d(n,{Z:()=>l});o(67294);var t=o(90512);const a={tabItem:"tabItem_Ymn6"};var s=o(85893);function l(e){let{children:n,hidden:o,className:l}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.Z)(a.tabItem,l),hidden:o,children:n})}},74866:(e,n,o)=>{o.d(n,{Z:()=>w});var t=o(67294),a=o(90512),s=o(12466),l=o(16550),r=o(20469),i=o(91980),d=o(67392),c=o(20812);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:o}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:o,attributes:t,default:a}}=e;return{value:n,label:o,attributes:t,default:a}}))}(o);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,o])}function p(e){let{value:n,tabValues:o}=e;return o.some((e=>e.value===n))}function v(e){let{queryString:n=!1,groupId:o}=e;const a=(0,l.k6)(),s=function(e){let{queryString:n=!1,groupId:o}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!o)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return o??null}({queryString:n,groupId:o});return[(0,i._X)(s),(0,t.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function m(e){const{defaultValue:n,queryString:o=!1,groupId:a}=e,s=h(e),[l,i]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:o}=e;if(0===o.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:o}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${o.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=o.find((e=>e.default))??o[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s}))),[d,u]=v({queryString:o,groupId:a}),[m,j]=function(e){let{groupId:n}=e;const o=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,s]=(0,c.Nk)(o);return[a,(0,t.useCallback)((e=>{o&&s.set(e)}),[o,s])]}({groupId:a}),x=(()=>{const e=d??m;return p({value:e,tabValues:s})?e:null})();(0,r.Z)((()=>{x&&i(x)}),[x]);return{selectedValue:l,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),j(e)}),[u,j,s]),tabValues:s}}var j=o(72389);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=o(85893);function f(e){let{className:n,block:o,selectedValue:t,selectValue:l,tabValues:r}=e;const i=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.o5)(),c=e=>{const n=e.currentTarget,o=i.indexOf(n),a=r[o].value;a!==t&&(d(n),l(a))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const o=i.indexOf(e.currentTarget)+1;n=i[o]??i[0];break}case"ArrowLeft":{const o=i.indexOf(e.currentTarget)-1;n=i[o]??i[i.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":o},n),children:r.map((e=>{let{value:n,label:o,attributes:s}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>i.push(e),onKeyDown:u,onClick:c,...s,className:(0,a.Z)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":t===n}),children:o??n},n)}))})}function b(e){let{lazy:n,children:o,selectedValue:a}=e;const s=(Array.isArray(o)?o:[o]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===a));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function k(e){const n=m(e);return(0,g.jsxs)("div",{className:(0,a.Z)("tabs-container",x.tabList),children:[(0,g.jsx)(f,{...n,...e}),(0,g.jsx)(b,{...n,...e})]})}function w(e){const n=(0,j.Z)();return(0,g.jsx)(k,{...e,children:u(e.children)},String(n))}},11151:(e,n,o)=>{o.d(n,{Z:()=>r,a:()=>l});var t=o(67294);const a={},s=t.createContext(a);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);