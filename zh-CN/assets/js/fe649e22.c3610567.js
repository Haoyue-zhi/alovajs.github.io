"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[187],{52786:(o,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var a=e(85893),t=e(11151);const s={title:"\u4eceaxios\u8fc1\u79fb"},i=void 0,r={id:"tutorial/project/migration/from-axios",title:"\u4eceaxios\u8fc1\u79fb",description:"\u672c\u8fc1\u79fb\u6307\u5357\u7684\u4f18\u52bf\uff1a",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/tutorial/07-project/02-migration/02-from-axios.md",sourceDirName:"tutorial/07-project/02-migration",slug:"/tutorial/project/migration/from-axios",permalink:"/zh-CN/tutorial/project/migration/from-axios",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/docs/tutorial/07-project/02-migration/02-from-axios.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"\u4eceaxios\u8fc1\u79fb"},sidebar:"tutorial",previous:{title:"v3 \u5347\u7ea7\u6307\u5357",permalink:"/zh-CN/tutorial/project/migration/v2-to-v3"}},l={},c=[{value:"\u8fc1\u79fb\u6b65\u9aa4",id:"\u8fc1\u79fb\u6b65\u9aa4",level:2},{value:"1. \u5b89\u88c5\u5305",id:"1-\u5b89\u88c5\u5305",level:3},{value:"2. \u521b\u5efa alova \u5b9e\u4f8b",id:"2-\u521b\u5efa-alova-\u5b9e\u4f8b",level:3},{value:"3. \u4fdd\u6301\u73b0\u6709\u4ee3\u7801\u4e0d\u53d8",id:"3-\u4fdd\u6301\u73b0\u6709\u4ee3\u7801\u4e0d\u53d8",level:3},{value:"4. \u9010\u6b65\u8fc1\u79fb\u8bf7\u6c42",id:"4-\u9010\u6b65\u8fc1\u79fb\u8bf7\u6c42",level:3}];function d(o){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...o.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"\u672c\u8fc1\u79fb\u6307\u5357\u7684\u4f18\u52bf\uff1a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u6700\u5c0f\u6539\u52a8: \u53ea\u9700\u521b\u5efa alova \u5b9e\u4f8b\uff0c\u5176\u4ed6\u4ee3\u7801\u53ef\u4ee5\u6162\u6162\u6539\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u6e10\u8fdb\u8fc1\u79fb: \u53ef\u4ee5\u4e00\u4e2a\u63a5\u53e3\u4e00\u4e2a\u63a5\u53e3\u5730\u8fc1\u79fb,\u4e0d\u5fc5\u4e00\u6b21\u6027\u91cd\u5199\u6240\u6709\u4ee3\u7801\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u4fdd\u6301\u4e00\u81f4\u6027: \u4f7f\u7528\u73b0\u6709\u7684 axios \u5b9e\u4f8b,\u539f\u6709\u914d\u7f6e\u548c\u62e6\u622a\u5668\u4ecd\u7136\u6709\u6548\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u65b0\u8001\u5e76\u5b58: \u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0caxios \u548c alova \u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u8fc1\u79fb\u6b65\u9aa4",children:"\u8fc1\u79fb\u6b65\u9aa4"}),"\n",(0,a.jsx)(n.h3,{id:"1-\u5b89\u88c5\u5305",children:"1. \u5b89\u88c5\u5305"}),"\n",(0,a.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5b89\u88c5 alova \u548c \u5b83\u7684 axios \u9002\u914d\u5668:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install alova @alova/adapter-axios\n\n# yarn\nyarn add alova @alova/adapter-axios\n\n# pnpm\npnpm install alova @alova/adapter-axios\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-\u521b\u5efa-alova-\u5b9e\u4f8b",children:"2. \u521b\u5efa alova \u5b9e\u4f8b"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528\u4f60\u73b0\u6709\u7684 axios \u5b9e\u4f8b\u521b\u5efa alova \u5b9e\u4f8b:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { createAlova } from 'alova';\nimport { axiosRequestAdapter } from '@alova/adapter-axios';\nimport axiosInstance from './your-axios-instance'; // \u4f60\u73b0\u6709\u7684 axios \u5b9e\u4f8b\n\nconst alovaInst = createAlova({\n  statesHook, // VueHook / ReactHook / SvelteHook\n  requestAdapter: axiosRequestAdapter({\n    axios: axiosInstance\n  })\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-\u4fdd\u6301\u73b0\u6709\u4ee3\u7801\u4e0d\u53d8",children:"3. \u4fdd\u6301\u73b0\u6709\u4ee3\u7801\u4e0d\u53d8"}),"\n",(0,a.jsx)(n.p,{children:"\u5bf9\u4e8e\u6682\u65f6\u4e0d\u60f3\u6539\u52a8\u7684\u90e8\u5206\uff0c\u7ee7\u7eed\u4f7f\u7528\u539f\u6709\u7684 axios \u65b9\u5f0f\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u6539\u52a8\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u73b0\u5728\uff0c\u4f60\u5df2\u7ecf\u53ef\u4ee5\u4f7f\u7528 alova \u7684 method \u5b9e\u4f8b\u4e86\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"const getUser = id => alovaInst.Get(`/user/${id}`);\n\n// \u5728\u7ec4\u4ef6\u4e2d\u4f7f\u7528\nconst { loading, data, error } = useRequest(getUser(userId));\n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-\u9010\u6b65\u8fc1\u79fb\u8bf7\u6c42",children:"4. \u9010\u6b65\u8fc1\u79fb\u8bf7\u6c42"}),"\n",(0,a.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u8ffd\u6c42\u7edf\u4e00\u7684\u4f7f\u7528\u4f53\u9a8c\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5f00\u59cb\u9010\u6b65\u5c06 axios \u8bf7\u6c42\u6539\u5199\u4e3a alova \u8bf7\u6c42\uff0c\u53ea\u9700\u8981\u5c06",(0,a.jsx)(n.code,{children:"axios.get"}),"\u3001",(0,a.jsx)(n.code,{children:"axios.post"}),"\u7b49\u65b9\u6cd5\u66ff\u6362\u4e3a",(0,a.jsx)(n.code,{children:"alovaInst.Get"}),"\u3001",(0,a.jsx)(n.code,{children:"alovaInst.Post"}),"\u7b49\u5c31\u53ef\u4ee5\u4e86\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// \u539f\u6765\u7684get\u8bf7\u6c42\nconst todoList = id => axios.get('/todo');\n// \u66f4\u6539\u540e\nconst todoList = id => alovaInst.Get('/todo');\n\n// \u539f\u6765\u7684post\u8bf7\u6c42\nconst todoList = data =>\n  axios.post('/todo', data, {\n    responseType: 'json',\n    responseEncoding: 'utf8'\n  });\n// \u66f4\u6539\u540e\nconst todoList = data =>\n  alovaInst.Post('/todo', data, {\n    responseType: 'json',\n    responseEncoding: 'utf8'\n  });\n"})})]})}function p(o={}){const{wrapper:n}={...(0,t.a)(),...o.components};return n?(0,a.jsx)(n,{...o,children:(0,a.jsx)(d,{...o})}):d(o)}},11151:(o,n,e)=>{e.d(n,{Z:()=>r,a:()=>i});var a=e(67294);const t={},s=a.createContext(t);function i(o){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof o?o(n):{...n,...o}}),[n,o])}function r(o){let n;return n=o.disableParentContext?"function"==typeof o.components?o.components(t):o.components||t:i(o.components),a.createElement(s.Provider,{value:n},o.children)}}}]);