"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[3596],{85690:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var r=s(85893),o=s(11151);const t={title:"\u63a5\u6536\u53c2\u6570"},c=void 0,a={id:"tutorial/combine-framework/receive-params",title:"\u63a5\u6536\u53c2\u6570",description:"\u5728useRequest\u548cuseWatcher\u4e2d\u6211\u4eec\u90fd\u53ef\u4ee5\u8c03\u7528send\u51fd\u6570\u624b\u52a8\u89e6\u53d1\u8bf7\u6c42\uff0csend \u51fd\u6570\u89e6\u53d1\u8bf7\u6c42\u65f6\u5019\uff0c\u53ef\u4ee5\u4f20\u5165\u4efb\u610f\u591a\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e9b\u53c2\u6570\u5176\u5b9e\u53ef\u4ee5\u5206\u522b\u88ab\u4ee5\u4e0b 3 \u4e2a\u4f4d\u7f6e\u63a5\u6536\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-2.x/tutorial/03-combine-framework/08-receive-params.md",sourceDirName:"tutorial/03-combine-framework",slug:"/tutorial/combine-framework/receive-params",permalink:"/zh-CN/tutorial/combine-framework/receive-params",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/versioned_docs/version-2.x/tutorial/03-combine-framework/08-receive-params.md",tags:[],version:"2.x",sidebarPosition:8,frontMatter:{title:"\u63a5\u6536\u53c2\u6570"},sidebar:"tutorial",previous:{title:"\u4e0b\u8f7d\u548c\u4e0a\u4f20\u8fdb\u5ea6",permalink:"/zh-CN/tutorial/combine-framework/download-upload-progress"},next:{title:"Typescript",permalink:"/zh-CN/tutorial/combine-framework/typescript"}},i={},d=[{value:"\u5728 method handler \u4e2d\u63a5\u6536",id:"\u5728-method-handler-\u4e2d\u63a5\u6536",level:2},{value:"\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u4e2d\u63a5\u6536",id:"\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u4e2d\u63a5\u6536",level:2},{value:"\u5728 force \u51fd\u6570\u4e2d\u63a5\u6536",id:"\u5728-force-\u51fd\u6570\u4e2d\u63a5\u6536",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"useRequest"}),"\u548c",(0,r.jsx)(n.code,{children:"useWatcher"}),"\u4e2d\u6211\u4eec\u90fd\u53ef\u4ee5\u8c03\u7528",(0,r.jsx)(n.code,{children:"send"}),"\u51fd\u6570\u624b\u52a8\u89e6\u53d1\u8bf7\u6c42\uff0csend \u51fd\u6570\u89e6\u53d1\u8bf7\u6c42\u65f6\u5019\uff0c\u53ef\u4ee5\u4f20\u5165\u4efb\u610f\u591a\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e9b\u53c2\u6570\u5176\u5b9e\u53ef\u4ee5\u5206\u522b\u88ab\u4ee5\u4e0b 3 \u4e2a\u4f4d\u7f6e\u63a5\u6536\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5728-method-handler-\u4e2d\u63a5\u6536",children:"\u5728 method handler \u4e2d\u63a5\u6536"}),"\n",(0,r.jsx)(n.p,{children:"\u5f53\u5b83\u4eec\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e3a\u56de\u8c03\u51fd\u6570\u65f6\u53ef\u4ee5\u63a5\u6536\u5230\uff0c\u8fd9\u901a\u5e38\u5728\u5220\u9664\u5217\u8868\u9879\u65f6\u5f88\u6709\u7528\uff0c\u5177\u4f53\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { send } = useRequest(id =>\n  // id\u5c06\u63a5\u6536\u52301\n  removeTodoPoster(id)\n);\nsend(1);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { send } = useWatcher(\n  userId =>\n    // userId\u5c06\u63a5\u6536\u52302\n    todoListGetter(userId),\n  [condition]\n);\nsend(2);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u4e2d\u63a5\u6536",children:"\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u4e2d\u63a5\u6536"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u4e2d\u901a\u8fc7",(0,r.jsx)(n.code,{children:"event.sendArgs"}),"\u63a5\u6536\uff0c\u5b83\u662f\u4e00\u4e2a\u5305\u542b\u4e86 send \u51fd\u6570\u7684\u6240\u6709\u53c2\u6570\u7684\u6570\u7ec4\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { send, onSuccess, onError, onComplete } = useRequest(newTodo =>\n  alovaInstance.Post('/todo', newTodo)\n);\nonSuccess(event => {\n  // sendArgs\u7684\u503c\u4e3a[1]\n  console.log(event.sendArgs);\n});\nonError(event => {\n  // sendArgs\u7684\u503c\u4e3a[1]\n  console.log(event.sendArgs);\n});\nonComplete(event => {\n  // sendArgs\u7684\u503c\u4e3a[1]\n  console.log(event.sendArgs);\n});\n\n// \u53d1\u9001\u8bf7\u6c42\nsend(1);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5728-force-\u51fd\u6570\u4e2d\u63a5\u6536",children:"\u5728 force \u51fd\u6570\u4e2d\u63a5\u6536"}),"\n",(0,r.jsxs)(n.p,{children:["force \u7528\u4e8e\u6307\u5b9a\u662f\u5426\u9700\u8981\u7a7f\u900f\u54cd\u5e94\u7f13\u5b58\uff0c\u5173\u4e8e\u54cd\u5e94\u7f13\u5b58\u7684\u5185\u5bb9\u5c06\u5728\u540e\u9762\u7684",(0,r.jsx)(n.a,{href:"/tutorial/cache/mode",children:"\u7f13\u5b58\u6a21\u5f0f"}),"\u4e2d\u8bb2\u89e3\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { send } = useRequest(alovaInstance.Get('/todo'), {\n  force: id => {\n    return !!id;\n  }\n});\nsend(1);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { send } = useWatcher(alovaInstance.Get('/todo'), [condition], {\n  force: id => {\n    return !!id;\n  }\n});\nsend(1);\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>c});var r=s(67294);const o={},t=r.createContext(o);function c(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);